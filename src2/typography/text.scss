$font-small: $base-font-size - 2;
$font-medium: $base-font-size;
$font-large: $base-font-size + 2;
$font-extra-large: $base-font-size + 4;

$font-small-line-height: roundEven($font-small * $base-ratio);
$font-medium-line-height: roundEven($font-medium * $base-ratio);
$font-large-line-height: roundEven($font-large * $base-ratio);
$font-extra-large-line-height: roundEven($font-extra-large * $base-ratio);

$base-paragraph-margin: $between-paragraphs-ratio * 1em;
$paragraph-M-margin: roundEven($font-medium * $between-paragraphs-ratio);
$paragraph-S-margin: roundEven($font-small * $between-paragraphs-ratio);
$paragraph-L-margin: roundEven($font-large * $between-paragraphs-ratio);
$paragraph-XL-margin: roundEven($font-extra-large * $between-paragraphs-ratio);

.text-m {
    font-size: $font-medium;
    line-height: $font-medium-line-height;
}

.text-l {
    font-size: $font-large;
    line-height: $font-large-line-height;
}

.text-xl {
    font-size: $font-extra-large;
    line-height: $font-extra-large-line-height;
}

.text-s {
    font-size: $font-small;
    line-height: $font-small-line-height;
}

// ---------------------
// Отступы параграфов задаются сверху и снизу для того, чтобы можно было комбинировать
// параграфы разных размеров. Тогда между ними будет максимальный отступ (т.е. того параграфа,
// который крупнее. Конечно, в идеале таких комбинаций не надо делать.

p {
    display: block;
    margin: $base-paragraph-margin 0 $base-paragraph-margin;
}

// ---------------------

@mixin textMediumMargin {
    margin: $paragraph-M-margin 0;
}

@mixin textLargeMargin {
    margin: $paragraph-L-margin 0;
}

.text-xl__margin {
    margin: $paragraph-XL-margin 0;
}

.text-s__margin {
    margin: $paragraph-S-margin 0;
}

// ---------------------

p.text-m, .text-m > p {
    @include textMediumMargin;
}

p.text-l, .text-l > p {
    @include textLargeMargin;
}

p.text-xl, .text-xl > p {
    @extend .text-xl__margin;
}

p.text-s, .text-s > p {
    @extend .text-s__margin;
}

// ---------------------

p.text-m__margin, .text-m__margin {
    @include textMediumMargin;
}

p.text-l__margin, .text-l__margin {
    @include textLargeMargin;
}

// ---------------------
// в самом низу, т.к. перебивают отступы

p.first, p:first-child {
    margin-top: 0;
}

p.last, p:last-child {
    margin-bottom: 0;
}